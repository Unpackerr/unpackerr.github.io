"use strict";(self.webpackChunkunpackerrdox=self.webpackChunkunpackerrdox||[]).push([[273,378,958],{3809:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>p,frontMatter:()=>c,metadata:()=>o,toc:()=>h});const o=JSON.parse('{"id":"install/docker","title":"Docker Basics","description":"Install Unpackerr using Docker!","source":"@site/docs/install/docker.md","sourceDirName":"install","slug":"/install/docker","permalink":"/docs/install/docker","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"docker","title":"Docker Basics","pagination_prev":"install/choosemethod","pagination_next":"install/configuration","description":"Install Unpackerr using Docker!"},"sidebar":"someSidebar","previous":{"title":"Choose Install Method","permalink":"/docs/install/choosemethod"},"next":{"title":"Application Configuration","permalink":"/docs/install/configuration"}}');var t=r(4848),i=r(8453),s=r(6311),a=r(2046);const c={id:"docker",title:"Docker Basics",pagination_prev:"install/choosemethod",pagination_next:"install/configuration",description:"Install Unpackerr using Docker!"},l="Docker Installation",d={},h=[{value:"Availability",id:"availability",level:2},{value:"DockerHub",id:"dockerhub",level:3},{value:"GHCR",id:"ghcr",level:3},{value:"Example",id:"example",level:2},{value:"Config File Example",id:"config-file-example",level:2},...s.toc,{value:"Data Mount",id:"data-mount",level:2},...a.toc,{value:"More Dockers",id:"more-dockers",level:2},{value:"Permissions",id:"permissions",level:2},{value:"Hotio",id:"hotio",level:3},{value:"Folder Watcher",id:"folder-watcher",level:2}];function u(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"docker-installation",children:"Docker Installation"})}),"\n",(0,t.jsx)(n.p,{children:"If you're using Docker Compose, this page may still contain valuable information for you. Please read it."}),"\n",(0,t.jsx)(n.h2,{id:"availability",children:"Availability"}),"\n",(0,t.jsx)(n.p,{children:"Images are available on DockerHub and GHCR."}),"\n",(0,t.jsx)(n.h3,{id:"dockerhub",children:"DockerHub"}),"\n",(0,t.jsxs)(n.p,{children:["GoLift software has a ",(0,t.jsx)(n.a,{href:"https://docs.docker.com/trusted-content/dsos-program/",children:"Docker Open Source Sponsorship"}),".\nThat means there are ",(0,t.jsxs)(n.strong,{children:["no pull limits for any ",(0,t.jsxs)(n.a,{href:"https://hub.docker.com/u/golift",children:[(0,t.jsx)(n.code,{children:"golift/*"})," image on Docker Hub"]}),"."]}),"\nEven if you're not logged in."]}),"\n",(0,t.jsxs)(n.p,{children:["This project builds automatically in ",(0,t.jsx)(n.a,{href:"https://hub.docker.com/r/golift/unpackerr",children:"Docker Cloud"})," and creates\n",(0,t.jsx)(n.a,{href:"https://hub.docker.com/r/golift/unpackerr/tags",children:"ready-to-use multi-architecture images"})," images.\nThe ",(0,t.jsx)(n.code,{children:"latest"})," tag is always a ",(0,t.jsx)(n.a,{href:"https://github.com/Unpackerr/unpackerr/releases",children:"tagged release on GitHub"}),"."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Pull the DockerHub image with this command:","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"docker pull golift/unpackerr:latest\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"ghcr",children:"GHCR"}),"\n",(0,t.jsxs)(n.p,{children:["GitHub Actions also builds a Docker image and stores it in the\n",(0,t.jsx)(n.a,{href:"https://github.com/Unpackerr/unpackerr/pkgs/container/unpackerr",children:"GitHub container registry"}),".\nThis image is effectively identical to the DockerHub version; use whichever you prefer.\nThe ",(0,t.jsx)(n.code,{children:"latest"})," tag is always a ",(0,t.jsx)(n.a,{href:"https://github.com/Unpackerr/unpackerr/releases",children:"tagged release on GitHub"}),"."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Pull the GHCR image with this command:","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"docker pull ghcr.io/unpackerr/unpackerr:latest\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:'docker pull golift/unpackerr\ndocker run -d -v /mnt/HostDownloads:/downloads \\\n  -e "UN_SONARR_0_URL=http://localhost:8989" \\\n  -e "UN_SONARR_0_API_KEY=kjsdkasjdaksdj" golift/unpackerr\ndocker logs <container id from docker run>\n'})}),"\n",(0,t.jsx)(n.h2,{id:"config-file-example",children:"Config File Example"}),"\n",(0,t.jsx)(s.default,{}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"docker pull golift/unpackerr\ndocker run -d -v /mnt/HostDownloads:/downloads -v /folder/with/config/file:/config golift/unpackerr\ndocker logs <container id from docker run>\n"})}),"\n",(0,t.jsx)(n.h2,{id:"data-mount",children:"Data Mount"}),"\n",(0,t.jsx)(a.default,{}),"\n",(0,t.jsx)(n.h2,{id:"more-dockers",children:"More Dockers"}),"\n",(0,t.jsxs)(n.p,{children:["If you want a container that has a bit more to it, you can try a third party option.\nThe container provided by golift is built ",(0,t.jsx)(n.code,{children:"FROM scratch"})," so it has nothing more in the\ncontainer than a binary and a config file (with our defaults)."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsxs)(n.strong,{children:[(0,t.jsx)(n.a,{href:"https://github.com/hotio",children:"@hotio"})," maintains a\n",(0,t.jsx)(n.a,{href:"https://hub.docker.com/r/hotio/unpackerr",children:"Custom Docker Container"}),"\nfor Unpackerr."]})," (",(0,t.jsx)(n.a,{href:"https://github.com/hotio/unpackerr",children:"repo"}),")"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"permissions",children:"Permissions"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"golift"})," docker container runs as uid 0 (root) by default. This is probably not what you want.\nMake sure to set the correct uid and gid with the ",(0,t.jsx)(n.code,{children:"--user"})," parameter. Example:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# This commands runs golift/unpackerr with UID 1000 and GID 100.\ndocker run --user 1000:100 -d -v /mnt/data:/data -v /mnt/config:/config golift/unpackerr\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsxs)(n.strong,{children:["Replace 1000:100 with the correct uid",":gid"," for your environment."]}),"\nOne of them must provide write access to your archives."]}),"\n",(0,t.jsxs)(n.p,{children:["When using compose, add ",(0,t.jsx)(n.code,{children:"user: 1000:100"})," to the service definition.\nFind examples in the ",(0,t.jsx)(n.a,{href:"compose",children:"Docker Compose instruction"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"hotio",children:"Hotio"}),"\n",(0,t.jsxs)(n.p,{children:["The primary difference between the golift and hotio containers is how you set the uid and gid.\nHotio does not user the ",(0,t.jsx)(n.code,{children:"--user"})," parameter and instead sets the UID and GID with environment\nvariables. ",(0,t.jsxs)(n.em,{children:["Passing the ",(0,t.jsx)(n.code,{children:"--user"})," parameter to the hotio container will render it inoperable."]}),"\nPass the ",(0,t.jsx)(n.code,{children:"PUID"})," and ",(0,t.jsx)(n.code,{children:"PGID"})," environment variables when using hotio's container. Example:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# This commands runs hotio/unpackerr with UID 1000 and GID 100.\ndocker run -e PUID=1000 -e PGID=100 -d -v /mnt/data:/data -v /mnt/config:/config hotio/unpackerr\n"})}),"\n",(0,t.jsx)(n.h2,{id:"folder-watcher",children:"Folder Watcher"}),"\n",(0,t.jsxs)(n.p,{children:["Watching folders in Docker will cause Unpackerr to constantly poll the\nwatched-folder for changes at a default rate of ",(0,t.jsx)(n.code,{children:"1s"})," (1 second)."]}),"\n",(0,t.jsxs)(n.p,{children:["The Folder Watch feature uses ",(0,t.jsx)(n.code,{children:"inotify"})," (a.k.a. ",(0,t.jsx)(n.code,{children:"fsnotify"}),") to identify changes to the\nwatched folder. A folder-poller is automatically started when run in Docker because\n",(0,t.jsx)(n.code,{children:"inotify"})," is unreliable. Disable the folder poller (and rely on ",(0,t.jsx)(n.code,{children:"inotify"})," only) by\nsetting ",(0,t.jsx)(n.code,{children:"folders.interval"})," (",(0,t.jsx)(n.code,{children:"UN_FOLDERS_INTERVAL"}),") to ",(0,t.jsx)(n.code,{children:"1ms"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["If Unpackerr has trouble determining when downloads are finished, set\n",(0,t.jsx)(n.code,{children:"start_delay"})," high enough to avoid beginning extracting files that are\nstill being transferred."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Alternatively, run Unpackerr as a native service instead of in Docker."})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},6311:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"install/includes/dockerconfigfile","title":"dockerconfigfile","description":"When you start Unpackerr in Docker it checks for a /config directory. If one exists, and there is","source":"@site/docs/install/includes/dockerconfigfile.md","sourceDirName":"install/includes","slug":"/install/includes/dockerconfigfile","permalink":"/docs/install/includes/dockerconfigfile","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{}}');var t=r(4848),i=r(8453);const s={},a=void 0,c={},l=[];function d(e){const n={a:"a",admonition:"admonition",code:"code",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.admonition,{title:"Default Config File",type:"info",children:(0,t.jsxs)(n.p,{children:["When you start Unpackerr in Docker it checks for a ",(0,t.jsx)(n.code,{children:"/config"})," directory. If one exists, and there is\nno ",(0,t.jsx)(n.code,{children:"unpackerr.conf"})," file within it, a brand new file is written with all default values. We still\nrecommend using the ",(0,t.jsx)(n.a,{href:"https://notifiarr.com/unpackerr",children:"generator"})," to build yourself a new file.\nReplace the file or contents with those from the generator and restart the container."]})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Copy the ",(0,t.jsx)(n.a,{href:"https://github.com/Unpackerr/unpackerr/blob/main/examples/unpackerr.conf.example",children:"example config file"}),"\nfrom the repo, or ",(0,t.jsx)(n.a,{href:"https://notifiarr.com/unpackerr",children:"generate one"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Then grab the image from DockerHub or GHCR."}),"\n",(0,t.jsxs)(n.li,{children:["Run the image using a ",(0,t.jsx)(n.code,{children:"volume"})," mount for the config file's directory."]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsxs)(n.strong,{children:["The config file must be located at ",(0,t.jsx)(n.code,{children:"/config/unpackerr.conf"}),"."]})}),"\n",(0,t.jsxs)(n.li,{children:["Recommend bind-mounting ",(0,t.jsx)(n.code,{children:"/config"})," volume as an app-data directory. Example Follows."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},2046:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"install/includes/dockerdatamount","title":"dockerdatamount","description":"The /data or /downloads mount you use for Starr apps should be set the same for Unpackerr.","source":"@site/docs/install/includes/dockerdatamount.md","sourceDirName":"install/includes","slug":"/install/includes/dockerdatamount","permalink":"/docs/install/includes/dockerdatamount","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{}}');var t=r(4848),i=r(8453);const s={},a=void 0,c={},l=[];function d(e){const n={admonition:"admonition",code:"code",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.admonition,{title:"Data Mount",type:"tip",children:[(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"/data"})," or ",(0,t.jsx)(n.code,{children:"/downloads"})," mount you use for Starr apps should be set the same for Unpackerr.\nUsing the same mount path keeps consistency and makes troubleshooting Unpackerr easier.\nMost importantly, it allows Unpackerr to find your files."]}),(0,t.jsxs)(n.p,{children:["This means that if you mount ",(0,t.jsx)(n.code,{children:"/mnt/storage/downloads:/downloads"})," on your Starr apps you should\nalso mount ",(0,t.jsx)(n.code,{children:"/mnt/storage/downloads:/downloads"})," on your Unpackerr container. If you mount\n",(0,t.jsx)(n.code,{children:"/mnt/user/data:/data"})," on your Starr apps, mount the same path on Unpackerr.\n",(0,t.jsx)(n.strong,{children:"Make sure Unpackerr can find the downloads in the same place that Sonarr and Radarr find them."})]})]}),"\n",(0,t.jsxs)(n.p,{children:["This is the most important part. Look at your download client (like Qbit), Sonarr and Radarr in your\nexisting compose or docker run commands; look for ",(0,t.jsx)(n.code,{children:"volumes:"})," or ",(0,t.jsx)(n.code,{children:"docker run -v"}),".\nOne of these volumes is your download mount. It's usually ",(0,t.jsx)(n.code,{children:"/data"})," or ",(0,t.jsx)(n.code,{children:"/downloads"})," and looks like this:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"docker run -v /mnt/storage/downloads:/downloads\n"})}),"\n",(0,t.jsx)(n.p,{children:"or"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"    volumes:\n      - /mnt/storage/downloads:/downloads\n"})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>a});var o=r(6540);const t={},i=o.createContext(t);function s(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);