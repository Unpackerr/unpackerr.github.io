"use strict";(self.webpackChunkunpackerrdox=self.webpackChunkunpackerrdox||[]).push([[958],{6861:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var r=o(4848),t=o(8453);const i={id:"docker",title:"Docker Basics",pagination_prev:"install/choosemethod",pagination_next:"install/configuration",description:"Install Unpackerr using Docker!"},a="Docker Installation",s={id:"install/docker",title:"Docker Basics",description:"Install Unpackerr using Docker!",source:"@site/docs/install/docker.md",sourceDirName:"install",slug:"/install/docker",permalink:"/docs/install/docker",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"docker",title:"Docker Basics",pagination_prev:"install/choosemethod",pagination_next:"install/configuration",description:"Install Unpackerr using Docker!"},sidebar:"someSidebar",previous:{title:"Choose Install Method",permalink:"/docs/install/choosemethod"},next:{title:"Application Configuration",permalink:"/docs/install/configuration"}},c={},l=[{value:"Docker Example",id:"docker-example",level:2},{value:"Docker Example with config file",id:"docker-example-with-config-file",level:2},{value:"More Dockers",id:"more-dockers",level:2},{value:"Permissions",id:"permissions",level:2},{value:"Hotio",id:"hotio",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"docker-installation",children:"Docker Installation"}),"\n",(0,r.jsxs)(n.p,{children:["This project builds automatically in ",(0,r.jsx)(n.a,{href:"https://hub.docker.com/r/golift/unpackerr",children:"Docker Cloud"})," and creates\n",(0,r.jsx)(n.a,{href:"https://hub.docker.com/r/golift/unpackerr/tags",children:"ready-to-use multi-architecture images"})," images.\nThe ",(0,r.jsx)(n.code,{children:"latest"})," tag is always a ",(0,r.jsx)(n.a,{href:"https://github.com/Unpackerr/unpackerr/releases",children:"tagged release on GitHub"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"docker-example",children:"Docker Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'docker pull golift/unpackerr\ndocker run -d -v /mnt/HostDownloads:/downloads \\\n  -e "UN_SONARR_0_URL=http://localhost:8989" \\\n  -e "UN_SONARR_0_API_KEY=kjsdkasjdaksdj" golift/unpackerr\ndocker logs <container id from docker run>\n'})}),"\n",(0,r.jsxs)(n.admonition,{title:"Data Mount",type:"warning",children:[(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"/data"})," or ",(0,r.jsx)(n.code,{children:"/downloads"})," mount you use for Starr apps should be set the same for Unpackerr.\nUsing the same mount path keeps consistency and makes troubleshooting Unpackerr easier.\nMost importantly, it allows Unpackerr to find your files."]}),(0,r.jsxs)(n.p,{children:["This means that if you mount ",(0,r.jsx)(n.code,{children:"/mnt/storage/downloads:/downloads"})," on your Starr apps you should\nalso mount ",(0,r.jsx)(n.code,{children:"/mnt/storage/downloads:/downloads"})," on your Unpackerr container. If you mount\n",(0,r.jsx)(n.code,{children:"/mnt/user/data:/data"})," on your Starr apps, mount the same path on Unpackerr.\n",(0,r.jsx)(n.strong,{children:"Make sure Unpackerr can find the downloads in the same place that Sonarr and Radarr find them."})]})]}),"\n",(0,r.jsx)(n.h2,{id:"docker-example-with-config-file",children:"Docker Example with config file"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Copy the ",(0,r.jsx)(n.a,{href:"https://github.com/Unpackerr/unpackerr/blob/main/examples/unpackerr.conf.example",children:"example config file"}),"\nfrom the repo, or ",(0,r.jsx)(n.a,{href:"https://notifiarr.com/unpackerr.php",children:"generate one"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Then grab the image from docker hub and run it using an overlay for the config file's directory."}),"\n",(0,r.jsxs)(n.li,{children:["The config file must be at ",(0,r.jsx)(n.code,{children:"/config/unpackerr.conf"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Recommend bind-mounting ",(0,r.jsx)(n.code,{children:"/config"})," as an app-data directory. Example Follows."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"docker pull golift/unpackerr\ndocker run -d -v /mnt/HostDownloads:/downloads -v /folder/with/config/file:/config golift/unpackerr\ndocker logs <container id from docker run>\n"})}),"\n",(0,r.jsx)(n.h2,{id:"more-dockers",children:"More Dockers"}),"\n",(0,r.jsxs)(n.p,{children:["If you want a container that has a bit more to it, you can try a third party option.\nThe container provided by golift is built ",(0,r.jsx)(n.code,{children:"FROM scratch"})," so it has nothing more in the\ncontainer than a binary and a config file (with our defaults)."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.a,{href:"https://github.com/hotio",children:"@hotio"})," maintains a\n",(0,r.jsx)(n.a,{href:"https://hub.docker.com/r/hotio/unpackerr",children:"Custom Docker Container"}),"\nfor Unpackerr."]})," (",(0,r.jsx)(n.a,{href:"https://github.com/hotio/unpackerr",children:"repo"}),")"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"permissions",children:"Permissions"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"golift"})," docker container runs as uid 0 (root) by default. This is probably not what you want.\nMake sure to set the correct uid and gid with the ",(0,r.jsx)(n.code,{children:"--user"})," parameter. Example:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# This commands runs golift/unpackerr with UID 1000 and GID 100.\ndocker run --user 1000:100 -d -v /mnt/data:/data -v /mnt/config:/config golift/unpackerr\n"})}),"\n",(0,r.jsx)(n.h3,{id:"hotio",children:"Hotio"}),"\n",(0,r.jsxs)(n.p,{children:["The primary difference between the golift and hotio containers is how you set the uid and gid.\nHotio does not user the ",(0,r.jsx)(n.code,{children:"--user"})," parameter and instead sets the UID and GID with environment\nvariables. ",(0,r.jsxs)(n.em,{children:["Passing the ",(0,r.jsx)(n.code,{children:"--user"})," parameter to the hotio container will render it inoperable."]}),"\nPass the ",(0,r.jsx)(n.code,{children:"PUID"})," and ",(0,r.jsx)(n.code,{children:"PGID"})," environment variables when using hotio's container. Example:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# This commands runs hotio/unpackerr with UID 1000 and GID 100.\ndocker run -e PUID=1000 -e PGID=100 -d -v /mnt/data:/data -v /mnt/config:/config hotio/unpackerr\n"})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>a,x:()=>s});var r=o(6540);const t={},i=r.createContext(t);function a(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);